cmake_minimum_required(VERSION 4.2)
set(CMAKE_POLICY_VERSION_MINIMUM 3.5)
add_definitions(-D_SILENCE_STDEXT_ARR_ITERS_DEPRECATION_WARNING)
add_definitions(-D_SOURCE_DIR=${CMAKE_CURRENT_SOURCE_DIR})

set(CMAKE_CXX_STANDARD 23)
set(CMAKE_CXX_EXTENSIONS OFF)

project(OPENGL_LEARN)

include(cmake/Dependencies.cmake)
load_dependencies()

file(GLOB_RECURSE SRC_FILES src/*)
add_executable(OPENGL_LEARN ${SRC_FILES})

target_link_system_library(OPENGL_LEARN PRIVATE fmt)
target_link_system_library(OPENGL_LEARN PRIVATE glfw)
target_link_system_library(OPENGL_LEARN PRIVATE glad)
target_link_system_library(OPENGL_LEARN PRIVATE stb_image)

include(cmake/ProjectOptions.cmake)
apply_project_options(OPENGL_LEARN)

include(cmake/CopyAssets.cmake)
copy_assets(OPENGL_LEARN)

if(STX_BUILD_TESTS)
    include(CTest)
    enable_testing()
    # add_subdirectory(ut)
endif()
